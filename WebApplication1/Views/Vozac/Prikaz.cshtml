

@model WebApplication1.Models.Vozac.VozacPrikazVM

<h1>Prikaz</h1>
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#ajaxPrikaz"
        onclick="VozacUredi()">
    Dodaj
</button>
<form style="margin:20px 0px">
    <input name="pretraga" value="@Model.Pretraga" />
    <input type="submit" value="Pretraga(Ime Prezime)" />
</form>

<table class="table-bordered">
    <thead>
        <tr>
            <td>VozacID</td>
            <td>Ime Prezime</td>
            <td>Broj Vozacke</td>
            <td>Datum Rodjenja</td>
            <td>Datum Zaposlenja</td>
            <td>Akcija</td>
        </tr>
    </thead>
    <tbody>
        @foreach (WebApplication1.Models.Vozac.VozacPrikazVM.Row v in Model.Vozaci)
        {
            <tr>
                <td>@v.VozacID</td>
                <td>@v.Ime  @v.Prezime</td>
                <td>@v.BrojVozacke</td>
                <td>@Convert.ToString(string.Format("{0:dd/MM/yyyy}", v.DatumRodjenja))</td>
                <td>@Convert.ToString(string.Format("{0:dd/MM/yyyy}", v.DatumZaposlenja))</td>
                <td>
                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#ajaxPrikaz"
                            onclick="VozacUredi(@v.VozacID)">
                        Uredi
                    </button>
                    <a href="/Vozac/Obrisi?VozacID=@v.VozacID" class="btn btn-primary">Obrisi</a>
                </td>
            </tr>
        }
    </tbody>
</table>

<div class="modal fade" id="ajaxPrikaz" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalCenterTitle" aria-hidden="true">

</div>
<script>
    function VozacUredi(VozacID) {

        if (VozacID == 0) {
            $.get("/Vozac/Uredi", function (d) {
                $("#ajaxPrikaz").html(d);
            });
        }
        else {
            $.get("/Vozac/Uredi?VozacID=" + VozacID, function (d) {
                $("#ajaxPrikaz").html(d);
            });
        }
    }
</script>